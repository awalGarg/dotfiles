#!/bin/sh

if [ -n "$1" ]; then
    f="$1"
    if [ ! -e "$f" ]; then
        echo 'File does not exist' 1>&2
        exit 2
    fi
    case "$f" in
        *png)
            exec xclip -sel c -t image/png "$f"
            ;;
        *jpg)
            exec xclip -sel c -t image/jpg "$f"
            ;;
        *)
            if grep -qI . "$f"; then
                exec xclip -sel c "$f"
            else
                echo 'File not image or text' 1>&2
                exit 1
            fi
    esac
fi

exec xclip -i -sel c
